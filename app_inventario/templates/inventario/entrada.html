{% extends 'base.html' %}

{% block title %}
Nuevo Tela
{% endblock %}

{% block container %}
    {% if messages %}
        <div class="alert alert-{{msj}} mb-2">
            {% for message in messages %}
                {{ message}}
            {% endfor %}
        </div>
    {% endif %}
    <div class="container">
        <h1 class="h1-entrada">Entrada de Telas</h1>
        <form action="{% url 'inventario:entrada' %}" method="POST" id="frm-entrada">
            {% csrf_token %}
            <div class="row">
                <div class="col-6">
                    <div class="mb-3 margen-div">
                        <label for="Tela">Tela</label>
                        <input value="" type="text" name="nombre" id="nombre" class="form-control" autocomplete="off" required autofocus>
                    </div>
                </div>
                <div class="col-6">
                    <div class="mb-3 margen-div">
                        <label for="Calidad">Calidad</label>
                        <input value="" type="text" name="calidad" id="calidad" class="form-control" autocomplete="off" required autofocus>
                    </div>
                </div>
                <div class="col-6"> 
                    <div class="mb-3 margen-div">
                        <label for="Color">Color</label>
                        <input value="" type="text" name="color" id="color" class="form-control" autocomplete="off" required autofocus>
                    </div>
                </div>
                <div class="col-6">
                    <div class="mb-3 margen-div">
                        <label for="numeroRollo" >Numero de rollo</label>
                        <input type="number" step="any" value="" name="numeroRollo" id="numeroRollo" class="form-control" min="1" onkeydown="filtro()" required>
                    </div>
                </div>
                <div class="col-6">
                    <div class="mb-3 margen-div">
                        <label for="cantidadYarda">Cantidad de yardas</label>
                        <input type="number" value="" min="1" step="any" name="cantidadYarda" id="cantidadYarda" class="form-control" required>
                    </div>
                </div>
                <div class="col-6">
                    <div class="mb-3 margen-div">  
                        <label for="fecha" >Fecha de Ingreso</label>
                        <input type="date" name="fecha" id="fecha" class="form-control" required>
                    </div>
                </div>
                <div class="col-6">
                    <div class="mb-3 margen-div">  
                        <label for="diseno">Dise√±o</label>
                        <input type="number" step="any" value="" name="diseno" id="diseno" class="form-control" min="1" onkeydown="filtro()" required>
                    </div>
                </div>
                <div class="col-6">
                    <div class="mb-3 margen-div">  
                        <label for="estante">Estante</label>
                        <select name="estante" id="estante" class="form-select form-control-chosen">
                            {% for et in estante %}
                                <option value="{{et.id}}">{{et.nombre}}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="col-12">
                    <div class="mb-3 margen-div-boton">  
                        <input type="submit" class="btn-entrada" value="Registrar">
                    </div>
                </div>
            </div> 
        </form>
    </div>
{% endblock %}

{% block js %}
<script>
    $(function () 
    {
       setTimeout(() => {
           $('.alert').slideUp(function () {
               $(this).remove();
           });
       }, 2000)
    });
 </script>
 <script>
    function filtro()
    {
    var tecla = event.key;
    if (['.','e'].includes(tecla))
       event.preventDefault()
    }
 </script>
{% endblock  %}