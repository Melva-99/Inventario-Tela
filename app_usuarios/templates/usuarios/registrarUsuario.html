{% load static %}

<!doctype html>
<html lang="en">
  <head>
    <title>Crear usuario</title>
    <link href="{% static '/usuarios/css/registrar.css' %}" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  </head>
  <body class="text-center">
    <div class="form-body">
        <div class="row">
            <div class="form-holder">
                <div class="form-content">
                    <div class="form-items">
                        <h3>Nuevo Usuario</h3>
                        <form name="addForm" method="post">
                            {% csrf_token %}
                            <div class="col-md-12">
                                <input class="form-control" type="text" name="first_name" placeholder="Nombre" required>
                            </div>
                            <div class="col-md-12">
                                <input class="form-control" type="text" name="last_name" placeholder="Apellido" required>
                            </div>
                            <div class="col-md-12">
                                <input class="form-control" type="text" name="username" placeholder="Usuario" required>
                            </div>
                            <div class="col-md-12">
                                <input class="form-control" type="email" name="email" placeholder="Correo eléctronico" required>
                            </div>
                            <div class="col-md-12"> 
                                <input class="form-control" type="password" id="password1" name="password1" placeholder="Contraseña" minlength="8" required>
                            </div>
                            <div class="col-md-12">
                                <input class="form-control" type="password" id="password2" name="password2" placeholder="Confirmar Contraseña" minlength="8" required>
                                <label id="alert"></label>
                            </div>
                            <div class="form-button mt-3">
                                <button id="submit" type="submit" class="btn btn-primary" disabled>Guardar</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    $(function(){

        $(document).on('keyup','#password1, #password2',function(){
          var password1 = $('#password1').val().trim();
          var password2 = $('#password2').val().trim();
          if( !password1 || !password2 || password1 == '' || password2 == '' ){
            $('#alert').removeClass('text-success').addClass('text-danger').text('Las contraseñas no coinciden');
          }

          else{
            if( password1 !== password2 ){
              $('#alert').removeClass('text-success').addClass('text-danger').text('Las contraseñas no coinciden');
              $('#submit').prop('disabled', true);
            }
            else{
            $('#alert').removeClass('text-danger').addClass('text-success').text('Las contraseñas coinciden');
            $('#submit').prop('disabled', false);
            }
          }
        });
      });
</script>
</html>
